import{r as s}from"./react-C0aVURRx.js";import{a as c}from"./axios-Dq7h7Pqt.js";import{A as x}from"./index-C8vFMK_G.js";function B(a,e,r){const[d,o]=s.useState([]),[g,n]=s.useState(0),[E,u]=s.useState(!1),[f,i]=s.useState(null),[S,m]=s.useState(null);return s.useEffect(()=>{u(!0),i(null),m(null);const h={per_page:Math.max(1,a.perPage),page:a.page,role:r,...a.firstname&&{firstname:a.firstname},...a.lastname&&{lastname:a.lastname},...a.email&&{email:a.email}};c.get(`${x}/api/users`,{params:h,headers:{Authorization:`Bearer ${e}`}}).then(t=>{o(t.data.data.users),n(t.data.meta.total)}).catch(t=>{var l;if(c.isAxiosError(t)){const p=(l=t.response)==null?void 0:l.status;if(p===422){m(t.response.data.errors);return}if(p===404){o([]),n(0);return}}i(t.code)}).finally(()=>u(!1))},[a,e,r]),{users:d,total:g,loading:E,error:f,validationErrors:S}}export{B as u};
