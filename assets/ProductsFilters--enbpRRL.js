import{j as e,r as x}from"./react-C0aVURRx.js";import{a3 as b,a4 as f,a5 as g,a6 as j,a7 as h,u as v,q as i,t as y,N as F,a2 as k,B,I as d,p as C,r as P,a8 as _}from"./mui-CW5KTKiM.js";import{d as S}from"./dayjs-DMyafwSS.js";import{F as c}from"./FilterField-CvqQz55q.js";import{F as I}from"./FilterSelect-usqmpckm.js";import{S as R}from"./SortControl-Cglw1wmd.js";import{u as D}from"./i18n-react-CHYEX_9Z.js";function M({legend:s,value:t,options:a,onChange:n}){return e.jsxs(b,{component:"fieldset",children:[e.jsx(f,{component:"legend",children:s}),e.jsx(g,{row:!0,value:t,onChange:(r,o)=>n(o),children:a.map(r=>e.jsx(j,{value:r.value,control:e.jsx(h,{size:"small"}),label:r.label},r.value))})]})}function q({filters:s,onChange:t}){const{t:a}=D("ticket"),n=v(),[r,o]=x.useState(!1),u=[{value:"name",label:a("filters.name")},{value:"price",label:a("filters.price")},{value:"date",label:a("filters.date")}],p=e.jsxs(i,{sx:{width:260,py:2,px:1},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:a("filters.title")}),e.jsxs(F,{spacing:2,sx:{mx:1},children:[e.jsx(c,{label:a("filters.name"),value:s.name,onChange:l=>t({name:l,page:1})}),e.jsx(c,{label:a("filters.category"),value:s.category,onChange:l=>t({category:l,page:1})}),e.jsx(c,{label:a("filters.location"),value:s.location,onChange:l=>t({location:l,page:1})}),e.jsx(k,{label:a("filters.date"),value:s.date?S(s.date):null,onChange:l=>t({date:(l==null?void 0:l.format("YYYY-MM-DD"))||"",page:1}),slotProps:{textField:{size:"small",fullWidth:!0,InputLabelProps:{shrink:!0}}}}),e.jsx(M,{legend:a("filters.places"),value:s.places.toString(),options:[{value:"0",label:a("filters.all_places")},{value:"1",label:a("filters.one_place")},{value:"2",label:a("filters.two_places")},{value:"4",label:a("filters.four_places")}],onChange:l=>t({places:Number(l),page:1})}),e.jsx(R,{fields:u,sortBy:s.sortBy,order:s.order,onSortChange:(l,m)=>t({sortBy:l,order:m,page:1}),label:a("filters.sort_by")}),e.jsx(I,{label:a("filters.offers_per_page"),value:s.perPage,options:[1,5,10,15,25,50,100],onChange:l=>t({perPage:l,page:1})}),e.jsx(B,{variant:"outlined",fullWidth:!0,onClick:()=>t({name:"",category:"",location:"",date:"",places:0,sortBy:"name",order:"asc",perPage:15,page:1}),children:a("filters.reset")})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(i,{component:"aside",sx:{display:{xs:"none",md:"block"},position:"sticky",top:n.mixins.toolbar.minHeight,bgcolor:"background.paper",border:l=>`1px solid ${l.palette.divider}`,borderRadius:1,width:260},children:p}),e.jsxs(i,{sx:{display:{xs:"block",md:"none"},mb:2},children:[e.jsx(d,{onClick:()=>o(!0),"aria-label":a("filters.title"),children:e.jsx(C,{})}),e.jsx(P,{open:r,onClose:()=>o(!1),keepMounted:!0,children:e.jsxs(i,{sx:{position:"relative"},children:[e.jsx(d,{onClick:()=>o(!1),size:"small",sx:{position:"absolute",top:8,right:8},"aria-label":a("filters.close"),children:e.jsx(_,{})}),p]})})]})]})}export{q as P};
