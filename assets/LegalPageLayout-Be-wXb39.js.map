{"version":3,"file":"LegalPageLayout-Be-wXb39.js","sources":["../../src/components/TableOfContents/TableOfContents.tsx","../../src/components/LegalSection/LegalSection.tsx","../../src/components/LegalPageLayout/LegalPageLayout.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport List from '@mui/material/List';\r\nimport ListItemButton from '@mui/material/ListItemButton';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\ninterface TocProps {\r\n  sections: readonly [string, string][];  // [subKey, textKey]\r\n  makeId: (key: string) => string;\r\n  titleKey: string;                       // ex. 'legal.subtitleTableOfContents'\r\n  namespace: string;                      // ex. 'legal'\r\n}\r\n\r\nexport function TableOfContents({\r\n  sections,\r\n  makeId,\r\n  titleKey,\r\n  namespace,\r\n}: TocProps) {\r\n  const theme = useTheme();\r\n  const { t } = useTranslation(namespace);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const TocList = (\r\n    <List disablePadding>\r\n      {sections.map(([subKey]) => {\r\n        const anchor = makeId(subKey);\r\n        return (\r\n          <ListItemButton\r\n            key={subKey}\r\n            component=\"a\"\r\n            href={`#${anchor}`}\r\n            sx={{ pl: 2 }}\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {/* on traduit la clé du titre de section */}\r\n            <ListItemText primary={t(`${namespace}.${subKey}`)} />\r\n          </ListItemButton>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {/* Sidebar desktop */}\r\n      <Box\r\n        component=\"nav\"\r\n        sx={{\r\n          display: { xs: 'none', md: 'block' },\r\n          position: 'sticky',\r\n          top: theme.mixins.toolbar.minHeight,\r\n          width: 240,\r\n          bgcolor: 'background.paper',\r\n          border: theme => `1px solid ${theme.palette.divider}`,\r\n          borderRadius: 1,\r\n          p: 2,\r\n          flexShrink: 0,\r\n          overflowY: 'auto',\r\n          WebkitOverflowScrolling: 'touch',\r\n          overscrollBehaviorY: 'contain',\r\n        }}\r\n      >\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          {t(titleKey)}\r\n        </Typography>\r\n        {TocList}\r\n      </Box>\r\n\r\n      {/* Drawer mobile */}\r\n      <Box sx={{ display: { xs: 'block', md: 'none' }, mb: 2 }}>\r\n        <IconButton\r\n          onClick={() => setOpen(true)}\r\n          aria-label={t(titleKey)}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Drawer\r\n          anchor=\"left\"\r\n          open={open}\r\n          onClose={() => setOpen(false)}\r\n          ModalProps={{ keepMounted: true }}\r\n        >\r\n          <Box\r\n            role=\"presentation\"\r\n            sx={{\r\n              width: 250,\r\n              p: 2,\r\n              bgcolor: 'background.paper',\r\n              height: '100%',\r\n              overflowY: 'auto',\r\n              WebkitOverflowScrolling: 'touch',\r\n              overscrollBehaviorY: 'contain',\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              {t(titleKey)}\r\n            </Typography>\r\n            {TocList}\r\n          </Box>\r\n        </Drawer>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport Link from '@mui/material/Link';\r\n\r\ninterface SectionProps {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  isLast?: boolean;\r\n}\r\n\r\nexport default function LegalSection({\r\n  id,\r\n  title,\r\n  content,\r\n  isLast = false,\r\n}: SectionProps) {\r\n  return (\r\n    <Box id={id} sx={{ mb: 4, scrollMarginTop: theme => theme.mixins.toolbar.minHeight }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        {title}\r\n      </Typography>\r\n      <Typography\r\n        component=\"div\"\r\n        sx={{ whiteSpace: 'pre-wrap', fontSize: '0.9rem', fontWeight: 200, pl: 2 }}\r\n      >\r\n        {content.split(/(\\s+)/).map((seg, i) => {\r\n          if (/https?:\\/\\/\\S+/.test(seg)) {\r\n            return (\r\n              <Link key={i} href={seg} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                {seg}\r\n              </Link>\r\n            );\r\n          }\r\n          if (/^[\\w.+-]+@[\\w-]+\\.[\\w.-]+$/.test(seg)) {\r\n            return <Link key={i} href={`mailto:${seg}`}>{seg}</Link>;\r\n          }\r\n          return seg;\r\n        })}\r\n      </Typography>\r\n      {!isLast && <Divider sx={{ mt: 5, mb: 0 }} />}\r\n    </Box>\r\n  );\r\n}\r\n","import { TableOfContents } from '../TableOfContents';\r\nimport LegalSection from '../LegalSection';\r\nimport { PageWrapper } from '../PageWrapper';\r\nimport Seo from '../Seo';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\n\r\ninterface LayoutProps {\r\n  seoTitle: string;\r\n  seoDescription: string;\r\n  pageTitle: string;\r\n  sections: readonly [string, string][]; // [titreKey, contentKey]\r\n  namespace: string;                     // ex. 'legal', 'cgv', etc.\r\n}\r\n\r\nexport default function LegalPageLayout({\r\n  seoTitle,\r\n  seoDescription,\r\n  pageTitle,\r\n  sections,\r\n  namespace,\r\n}: LayoutProps) {\r\n  const { t } = useTranslation(namespace);\r\n\r\n  // Générateur d'ID pour l'ancre\r\n  const makeId = (key: string) =>\r\n    key.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n\r\n  return (\r\n    <>\r\n      <Seo title={t(seoTitle)} description={t(seoDescription)} />\r\n      <PageWrapper>\r\n        {/* 1) Titre de la page */}\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          {t(pageTitle)}\r\n        </Typography>\r\n\r\n        {/* 2) Layout : TOC + contenu */}\r\n        <Stack direction={{ xs: 'column', md: 'row' }} spacing={4}>\r\n          {/* → On passe titleKey et namespace, pas title */}\r\n          <TableOfContents\r\n            sections={sections}\r\n            makeId={makeId}\r\n            namespace={namespace}\r\n            titleKey={`${namespace}.subtitleTableOfContents`}\r\n          />\r\n\r\n          <Box sx={{ flex: 1, overflowWrap: 'anywhere', wordBreak: 'break-word' }}>\r\n            {sections.map(([subKey, textKey], idx) => (\r\n              <LegalSection\r\n                key={subKey}\r\n                id={makeId(subKey)}\r\n                title={t(`${namespace}.${subKey}`)}\r\n                content={t(`${namespace}.${textKey}`)}\r\n                isLast={idx === sections.length - 1}\r\n              />\r\n            ))}\r\n          </Box>\r\n        </Stack>\r\n      </PageWrapper>\r\n    </>\r\n  );\r\n}\r\n"],"names":["useState","jsx","jsxs","Fragment","theme"],"mappings":"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"}