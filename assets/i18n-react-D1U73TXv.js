import{r as u}from"./react-DC8o52IF.js";import{c as te}from"./vendor-D9ZY9h2q.js";const H=(e,t,n,s)=>{var r,d,g,x;const c=[n,{code:t,...s||{}}];if((d=(r=e==null?void 0:e.services)==null?void 0:r.logger)!=null&&d.forward)return e.services.logger.forward(c,"warn","react-i18next::",!0);O(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),(x=(g=e==null?void 0:e.services)==null?void 0:g.logger)!=null&&x.warn?e.services.logger.warn(...c):console!=null&&console.warn&&console.warn(...c)},G={},V=(e,t,n,s)=>{O(n)&&G[n]||(O(n)&&(G[n]=new Date),H(e,t,n,s))},X=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},z=(e,t,n)=>{e.loadNamespaces(t,X(e,n))},J=(e,t,n,s)=>{if(O(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return z(e,n,s);n.forEach(c=>{e.options.ns.indexOf(c)<0&&e.options.ns.push(c)}),e.loadLanguages(t,X(e,s))},ne=(e,t,n={})=>!t.languages||!t.languages.length?(V(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,c)=>{var r;if(((r=n.bindI18n)==null?void 0:r.indexOf("languageChanging"))>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!c(s.isLanguageChangingTo,e))return!1}}),O=e=>typeof e=="string",j=e=>typeof e=="object"&&e!==null,se=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,re={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},ae=e=>re[e],oe=e=>e.replace(se,ae);let B={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:oe};const ie=(e={})=>{B={...B,...e}},q=()=>B;let Y;const ce=e=>{Y=e},U=()=>Y,D=(e,t)=>{var s;if(!e)return!1;const n=((s=e.props)==null?void 0:s.children)??e.children;return t?n.length>0:!!n},M=e=>{var n,s;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(s=e.props)!=null&&s.i18nIsDynamicList?P(t):t},le=e=>Array.isArray(e)&&e.every(u.isValidElement),P=e=>Array.isArray(e)?e:[e],ue=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},K=(e,t,n,s)=>{if(!e)return"";let c="";const r=P(e),d=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((g,x)=>{if(O(g)){c+=`${g}`;return}if(u.isValidElement(g)){const{props:l,type:h}=g,T=Object.keys(l).length,$=d.indexOf(h)>-1,b=l.children;if(!b&&$&&!T){c+=`<${h}/>`;return}if(!b&&(!$||T)||l.i18nIsDynamicList){c+=`<${x}></${x}>`;return}if($&&T===1&&O(b)){c+=`<${h}>${b}</${h}>`;return}const f=K(b,t,n,s);c+=`<${x}>${f}</${x}>`;return}if(g===null){H(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:s});return}if(j(g)){const{format:l,...h}=g,T=Object.keys(h);if(T.length===1){const $=l?`${T[0]}, ${l}`:T[0];c+=`{{${$}}}`;return}H(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:s,child:g});return}H(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:s,child:g})}),c},fe=(e,t,n,s,c,r)=>{if(t==="")return[];const d=s.transKeepBasicHtmlNodesFor||[],g=t&&new RegExp(d.map(o=>`<${o}`).join("|")).test(t);if(!e&&!g&&!r)return[t];const x={},l=o=>{P(o).forEach(i=>{O(i)||(D(i)?l(M(i)):j(i)&&!u.isValidElement(i)&&Object.assign(x,i))})};l(e);const h=te.parse(`<0>${t}</0>`),T={...x,...c},$=(o,N,i)=>{var p;const m=M(o),v=f(m,N.children,i);return le(m)&&v.length===0||(p=o.props)!=null&&p.i18nIsDynamicList?m:v},b=(o,N,i,m,v)=>{o.dummy?(o.children=N,i.push(u.cloneElement(o,{key:m},v?void 0:N))):i.push(...u.Children.map([o],p=>{const a={...p.props};return delete a.i18nIsDynamicList,u.createElement(p.type,{...a,key:m,ref:p.ref},v?null:N)}))},f=(o,N,i)=>{const m=P(o);return P(N).reduce((p,a,S)=>{var w,I;const E=((I=(w=a.children)==null?void 0:w[0])==null?void 0:I.content)&&n.services.interpolator.interpolate(a.children[0].content,T,n.language);if(a.type==="tag"){let y=m[parseInt(a.name,10)];i.length===1&&!y&&(y=i[0][a.name]),y||(y={});const C=Object.keys(a.attrs).length!==0?ue({props:a.attrs},y):y,L=u.isValidElement(C),_=L&&D(a,!0)&&!a.voidElement,F=g&&j(C)&&C.dummy&&!L,R=j(e)&&Object.hasOwnProperty.call(e,a.name);if(O(C)){const A=n.services.interpolator.interpolate(C,T,n.language);p.push(A)}else if(D(C)||_){const A=$(C,a,i);b(C,A,p,S)}else if(F){const A=f(m,a.children,i);b(C,A,p,S)}else if(Number.isNaN(parseFloat(a.name)))if(R){const A=$(C,a,i);b(C,A,p,S,a.voidElement)}else if(s.transSupportBasicHtmlNodes&&d.indexOf(a.name)>-1)if(a.voidElement)p.push(u.createElement(a.name,{key:`${a.name}-${S}`}));else{const A=f(m,a.children,i);p.push(u.createElement(a.name,{key:`${a.name}-${S}`},A))}else if(a.voidElement)p.push(`<${a.name} />`);else{const A=f(m,a.children,i);p.push(`<${a.name}>${A}</${a.name}>`)}else if(j(C)&&!L){const A=a.children[0]?E:null;A&&p.push(A)}else b(C,E,p,S,a.children.length!==1||!E)}else if(a.type==="text"){const y=s.transWrapTextNodes,C=r?s.unescape(n.services.interpolator.interpolate(a.content,T,n.language)):n.services.interpolator.interpolate(a.content,T,n.language);y?p.push(u.createElement(y,{key:`${a.name}-${S}`},C)):p.push(C)}return p},[])},k=f([{dummy:!0,children:e||[]}],h,P(e||[]));return M(k[0])},Q=(e,t,n)=>{const s=e.key||t,c=u.cloneElement(e,{key:s});if(!c.props||!c.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return c;function r(){return u.createElement(u.Fragment,null,c)}return u.createElement(r,{key:s})},pe=(e,t)=>e.map((n,s)=>Q(n,s,t)),de=(e,t)=>{const n={};return Object.keys(e).forEach(s=>{Object.assign(n,{[s]:Q(e[s],s,t)})}),n},ge=(e,t,n,s)=>e?Array.isArray(e)?pe(e,t):j(e)?de(e,t):(V(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:s}),null):null;function me({children:e,count:t,parent:n,i18nKey:s,context:c,tOptions:r={},values:d,defaults:g,components:x,ns:l,i18n:h,t:T,shouldUnescape:$,...b}){var C,L,_,F,R,A;const f=h||U();if(!f)return V(f,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:s}),e;const k=T||f.t.bind(f)||(ee=>ee),o={...q(),...(C=f.options)==null?void 0:C.react};let N=l||k.ns||((L=f.options)==null?void 0:L.defaultNS);N=O(N)?[N]:N||["translation"];const i=K(e,o,f,s),m=g||i||o.transEmptyNodeValue||s,{hashTransKey:v}=o,p=s||(v?v(i||m):i||m);(F=(_=f.options)==null?void 0:_.interpolation)!=null&&F.defaultVariables&&(d=d&&Object.keys(d).length>0?{...d,...f.options.interpolation.defaultVariables}:{...f.options.interpolation.defaultVariables});const a=d||t!==void 0&&!((A=(R=f.options)==null?void 0:R.interpolation)!=null&&A.alwaysFormat)||!e?r.interpolation:{interpolation:{...r.interpolation,prefix:"#$?",suffix:"?$#"}},S={...r,context:c||r.context,count:t,...d,...a,defaultValue:m,ns:N},E=p?k(p,S):m,w=ge(x,E,f,s),I=fe(w||e,E,f,o,S,$),y=n??o.defaultTransParent;return y?u.createElement(y,b,I):I}const be={type:"3rdParty",init(e){ie(e.options.react),ce(e)}},W=u.createContext();class ye{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Ce({children:e,count:t,parent:n,i18nKey:s,context:c,tOptions:r={},values:d,defaults:g,components:x,ns:l,i18n:h,t:T,shouldUnescape:$,...b}){var i;const{i18n:f,defaultNS:k}=u.useContext(W)||{},o=h||f||U(),N=T||(o==null?void 0:o.t.bind(o));return me({children:e,count:t,parent:n,i18nKey:s,context:c,tOptions:r,values:d,defaults:g,components:x,ns:l||(N==null?void 0:N.ns)||k||((i=o==null?void 0:o.options)==null?void 0:i.defaultNS),i18n:o,t:T,shouldUnescape:$,...b})}const he=(e,t)=>{const n=u.useRef();return u.useEffect(()=>{n.current=e},[e,t]),n.current},Z=(e,t,n,s)=>e.getFixedT(t,n,s),Ne=(e,t,n,s)=>u.useCallback(Z(e,t,n,s),[e,t,n,s]),xe=(e,t={})=>{var v,p,a,S;const{i18n:n}=t,{i18n:s,defaultNS:c}=u.useContext(W)||{},r=n||s||U();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new ye),!r){V(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(I,y)=>O(y)?y:j(y)&&O(y.defaultValue)?y.defaultValue:Array.isArray(I)?I[I.length-1]:I,w=[E,{},!1];return w.t=E,w.i18n={},w.ready=!1,w}(v=r.options.react)!=null&&v.wait&&V(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...q(),...r.options.react,...t},{useSuspense:g,keyPrefix:x}=d;let l=e||c||((p=r.options)==null?void 0:p.defaultNS);l=O(l)?[l]:l||["translation"],(S=(a=r.reportNamespaces).addUsedNamespaces)==null||S.call(a,l);const h=(r.isInitialized||r.initializedStoreOnce)&&l.every(E=>ne(E,r,d)),T=Ne(r,t.lng||null,d.nsMode==="fallback"?l:l[0],x),$=()=>T,b=()=>Z(r,t.lng||null,d.nsMode==="fallback"?l:l[0],x),[f,k]=u.useState($);let o=l.join();t.lng&&(o=`${t.lng}${o}`);const N=he(o),i=u.useRef(!0);u.useEffect(()=>{const{bindI18n:E,bindI18nStore:w}=d;i.current=!0,!h&&!g&&(t.lng?J(r,t.lng,l,()=>{i.current&&k(b)}):z(r,l,()=>{i.current&&k(b)})),h&&N&&N!==o&&i.current&&k(b);const I=()=>{i.current&&k(b)};return E&&(r==null||r.on(E,I)),w&&(r==null||r.store.on(w,I)),()=>{i.current=!1,r&&(E==null||E.split(" ").forEach(y=>r.off(y,I))),w&&r&&w.split(" ").forEach(y=>r.store.off(y,I))}},[r,o]),u.useEffect(()=>{i.current&&h&&k($)},[r,x,h]);const m=[f,r,h];if(m.t=f,m.i18n=r,m.ready=h,h||!h&&!g)return m;throw new Promise(E=>{t.lng?J(r,t.lng,l,()=>E()):z(r,l,()=>E())})};function Ae({i18n:e,defaultNS:t,children:n}){const s=u.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return u.createElement(W.Provider,{value:s},n)}export{Ae as I,Ce as T,be as i,xe as u};
