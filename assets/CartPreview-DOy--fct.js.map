{"version":3,"file":"CartPreview-DOy--fct.js","sources":["../../src/components/Cart/CartPreview.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport IconButton    from '@mui/material/IconButton';\r\nimport Badge         from '@mui/material/Badge';\r\nimport Popover       from '@mui/material/Popover';\r\nimport List          from '@mui/material/List';\r\nimport ListItem      from '@mui/material/ListItem';\r\nimport ListItemText  from '@mui/material/ListItemText';\r\nimport Button        from '@mui/material/Button';\r\nimport Typography    from '@mui/material/Typography';\r\nimport Box           from '@mui/material/Box';\r\n\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\n\r\nimport { useCartStore } from '../../stores/cartStore';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction CartPreview() {\r\n  const { t } = useTranslation();\r\n  const items = useCartStore(s => s.items);\r\n  const cartCount = items.reduce((sum, i) => sum + i.quantity, 0);\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'cart-popover' : undefined;\r\n\r\n  const handleOpen = (e: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(e.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        aria-describedby={id}\r\n        onClick={handleOpen}\r\n        color=\"inherit\"\r\n        aria-label={t('navbar.cart')}\r\n      >\r\n        <Badge\r\n          badgeContent={cartCount}\r\n          color=\"info\"\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n        >\r\n          <ShoppingCartIcon />\r\n        </Badge>\r\n      </IconButton>\r\n\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        PaperProps={{ sx: { width: 300, p: 1 } }}\r\n      >\r\n        {cartCount === 0 ? (\r\n          <Typography sx={{ p: 2 }} variant=\"body2\">\r\n            {t('cart.empty')}\r\n          </Typography>\r\n        ) : (\r\n          <Box>\r\n            <List dense>\r\n              {items.map(item => (\r\n                <ListItem key={item.id}>\r\n                  <ListItemText\r\n                    primary={item.name}\r\n                    secondary={`${item.quantity} × ${item.price.toFixed(2)} €`}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', p: 1 }}>\r\n              <Typography variant=\"subtitle1\">\r\n                {t('cart.total')} : {items.reduce((sum, i) => sum + i.quantity * i.price, 0).toFixed(2)} €\r\n              </Typography>\r\n              <Button\r\n                component={Link}\r\n                to=\"/cart\"\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={handleClose}\r\n              >\r\n                {t('cart.view')}\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </Popover>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CartPreview;"],"names":["jsxs","Fragment","jsx"],"mappings":";;;;;;;;;;AAkBA,SAAS,cAAc;AACf,QAAA,EAAE,EAAE,IAAI,eAAe;AAC7B,QAAM,QAAQ,aAAa,CAAK,MAAA,EAAE,KAAK;AACjC,QAAA,YAAY,MAAM,OAAO,CAAC,KAAK,MAAM,MAAM,EAAE,UAAU,CAAC;AAE9D,QAAM,CAAC,UAAU,WAAW,IAAI,MAAM,SAA6B,IAAI;AACjE,QAAA,OAAO,QAAQ,QAAQ;AACvB,QAAA,KAAK,OAAO,iBAAiB;AAE7B,QAAA,aAAa,CAAC,MAAqC;AACvD,gBAAY,EAAE,aAAa;AAAA,EAC7B;AACA,QAAM,cAAc,MAAM;AACxB,gBAAY,IAAI;AAAA,EAClB;AAEA,SAEIA,kCAAA,KAAAC,4BAAA,EAAA,UAAA;AAAA,IAAAC,kCAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,oBAAkB;AAAA,QAClB,SAAS;AAAA,QACT,OAAM;AAAA,QACN,cAAY,EAAE,aAAa;AAAA,QAE3B,UAAAA,kCAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,cAAc;AAAA,YACd,OAAM;AAAA,YACN,cAAc,EAAE,UAAU,UAAU,YAAY,QAAQ;AAAA,YAExD,gDAAC,kBAAiB,CAAA,CAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACpB;AAAA,IACF;AAAA,IAEAA,kCAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT,cAAc,EAAE,UAAU,UAAU,YAAY,QAAQ;AAAA,QACxD,iBAAiB,EAAE,UAAU,OAAO,YAAY,QAAQ;AAAA,QACxD,YAAY,EAAE,IAAI,EAAE,OAAO,KAAK,GAAG,IAAI;AAAA,QAEtC,wBAAc,IACbA,kCAAA,IAAC,YAAW,EAAA,IAAI,EAAE,GAAG,EAAK,GAAA,SAAQ,SAC/B,UAAE,EAAA,YAAY,EACjB,CAAA,2CAEC,KACC,EAAA,UAAA;AAAA,UAAAA,kCAAAA,IAAC,QAAK,OAAK,MACR,gBAAM,IAAI,CAAA,+CACR,UACC,EAAA,UAAAA,kCAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAW,GAAG,KAAK,QAAQ,MAAM,KAAK,MAAM,QAAQ,CAAC,CAAC;AAAA,YAAA;AAAA,UAH3C,EAAA,GAAA,KAAK,EAKpB,CACD,GACH;AAAA,UACAF,kCAAAA,KAAC,KAAI,EAAA,IAAI,EAAE,SAAS,QAAQ,gBAAgB,iBAAiB,GAAG,EAAA,GAC9D,UAAA;AAAA,YAACA,kCAAAA,KAAA,YAAA,EAAW,SAAQ,aACjB,UAAA;AAAA,cAAA,EAAE,YAAY;AAAA,cAAE;AAAA,cAAI,MAAM,OAAO,CAAC,KAAK,MAAM,MAAM,EAAE,WAAW,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,cAAE;AAAA,YAAA,GAC1F;AAAA,YACAE,kCAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAW;AAAA,gBACX,IAAG;AAAA,gBACH,SAAQ;AAAA,gBACR,MAAK;AAAA,gBACL,SAAS;AAAA,gBAER,YAAE,WAAW;AAAA,cAAA;AAAA,YAAA;AAAA,UAChB,EACF,CAAA;AAAA,QAAA,EACF,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAEJ,GACF;AAEJ;"}