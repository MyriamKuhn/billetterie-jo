import{r as u}from"./react-C0aVURRx.js";import{z as te}from"./vendor-DdBxgcTm.js";const D=(e,t,n,s)=>{var r,f,p,T;const o=[n,{code:t,...s||{}}];if((f=(r=e==null?void 0:e.services)==null?void 0:r.logger)!=null&&f.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);S(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(T=(p=e==null?void 0:e.services)==null?void 0:p.logger)!=null&&T.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},G={},R=(e,t,n,s)=>{S(n)&&G[n]||(S(n)&&(G[n]=new Date),D(e,t,n,s))},X=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},M=(e,t,n)=>{e.loadNamespaces(t,X(e,n))},J=(e,t,n,s)=>{if(S(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return M(e,n,s);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,X(e,s))},ne=(e,t,n={})=>!t.languages||!t.languages.length?(R(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,o)=>{var r;if(((r=n.bindI18n)==null?void 0:r.indexOf("languageChanging"))>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}),se=e=>e.displayName||e.name||(S(e)&&e.length>0?e:"Unknown"),S=e=>typeof e=="string",j=e=>typeof e=="object"&&e!==null,re=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ae={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},oe=e=>ae[e],ie=e=>e.replace(re,oe);let B={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ie};const ce=(e={})=>{B={...B,...e}},q=()=>B;let Y;const le=e=>{Y=e},U=()=>Y,H=(e,t)=>{var s;if(!e)return!1;const n=((s=e.props)==null?void 0:s.children)??e.children;return t?n.length>0:!!n},z=e=>{var n,s;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(s=e.props)!=null&&s.i18nIsDynamicList?L(t):t},ue=e=>Array.isArray(e)&&e.every(u.isValidElement),L=e=>Array.isArray(e)?e:[e],fe=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},K=(e,t,n,s)=>{if(!e)return"";let o="";const r=L(e),f=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((p,T)=>{if(S(p)){o+=`${p}`;return}if(u.isValidElement(p)){const{props:l,type:m}=p,y=Object.keys(l).length,A=f.indexOf(m)>-1,x=l.children;if(!x&&A&&!y){o+=`<${m}/>`;return}if(!x&&(!A||y)||l.i18nIsDynamicList){o+=`<${T}></${T}>`;return}if(A&&y===1&&S(x)){o+=`<${m}>${x}</${m}>`;return}const g=K(x,t,n,s);o+=`<${T}>${g}</${T}>`;return}if(p===null){D(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:s});return}if(j(p)){const{format:l,...m}=p,y=Object.keys(m);if(y.length===1){const A=l?`${y[0]}, ${l}`:y[0];o+=`{{${A}}}`;return}D(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:s,child:p});return}D(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:s,child:p})}),o},pe=(e,t,n,s,o,r)=>{if(t==="")return[];const f=s.transKeepBasicHtmlNodesFor||[],p=t&&new RegExp(f.map(i=>`<${i}`).join("|")).test(t);if(!e&&!p&&!r)return[t];const T={},l=i=>{L(i).forEach(c=>{S(c)||(H(c)?l(z(c)):j(c)&&!u.isValidElement(c)&&Object.assign(T,c))})};l(e);const m=te.parse(`<0>${t}</0>`),y={...T,...o},A=(i,E,c)=>{var d;const h=z(i),O=g(h,E.children,c);return ue(h)&&O.length===0||(d=i.props)!=null&&d.i18nIsDynamicList?h:O},x=(i,E,c,h,O)=>{i.dummy?(i.children=E,c.push(u.cloneElement(i,{key:h},O?void 0:E))):c.push(...u.Children.map([i],d=>{const a={...d.props};return delete a.i18nIsDynamicList,u.createElement(d.type,{...a,key:h,ref:d.props.ref??d.ref},O?null:E)}))},g=(i,E,c)=>{const h=L(i);return L(E).reduce((d,a,k)=>{var I,C;const b=((C=(I=a.children)==null?void 0:I[0])==null?void 0:C.content)&&n.services.interpolator.interpolate(a.children[0].content,y,n.language);if(a.type==="tag"){let N=h[parseInt(a.name,10)];c.length===1&&!N&&(N=c[0][a.name]),N||(N={});const w=Object.keys(a.attrs).length!==0?fe({props:a.attrs},N):N,P=u.isValidElement(w),V=P&&H(a,!0)&&!a.voidElement,_=p&&j(w)&&w.dummy&&!P,F=j(e)&&Object.hasOwnProperty.call(e,a.name);if(S(w)){const $=n.services.interpolator.interpolate(w,y,n.language);d.push($)}else if(H(w)||V){const $=A(w,a,c);x(w,$,d,k)}else if(_){const $=g(h,a.children,c);x(w,$,d,k)}else if(Number.isNaN(parseFloat(a.name)))if(F){const $=A(w,a,c);x(w,$,d,k,a.voidElement)}else if(s.transSupportBasicHtmlNodes&&f.indexOf(a.name)>-1)if(a.voidElement)d.push(u.createElement(a.name,{key:`${a.name}-${k}`}));else{const $=g(h,a.children,c);d.push(u.createElement(a.name,{key:`${a.name}-${k}`},$))}else if(a.voidElement)d.push(`<${a.name} />`);else{const $=g(h,a.children,c);d.push(`<${a.name}>${$}</${a.name}>`)}else if(j(w)&&!P){const $=a.children[0]?b:null;$&&d.push($)}else x(w,b,d,k,a.children.length!==1||!b)}else if(a.type==="text"){const N=s.transWrapTextNodes,w=r?s.unescape(n.services.interpolator.interpolate(a.content,y,n.language)):n.services.interpolator.interpolate(a.content,y,n.language);N?d.push(u.createElement(N,{key:`${a.name}-${k}`},w)):d.push(w)}return d},[])},v=g([{dummy:!0,children:e||[]}],m,L(e||[]));return z(v[0])},Q=(e,t,n)=>{const s=e.key||t,o=u.cloneElement(e,{key:s});if(!o.props||!o.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return o;function r(){return u.createElement(u.Fragment,null,o)}return u.createElement(r,{key:s})},de=(e,t)=>e.map((n,s)=>Q(n,s,t)),ge=(e,t)=>{const n={};return Object.keys(e).forEach(s=>{Object.assign(n,{[s]:Q(e[s],s,t)})}),n},me=(e,t,n,s)=>e?Array.isArray(e)?de(e,t):j(e)?ge(e,t):(R(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:s}),null):null;function ye({children:e,count:t,parent:n,i18nKey:s,context:o,tOptions:r={},values:f,defaults:p,components:T,ns:l,i18n:m,t:y,shouldUnescape:A,...x}){var w,P,V,_,F,$;const g=m||U();if(!g)return R(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:s}),e;const v=y||g.t.bind(g)||(ee=>ee),i={...q(),...(w=g.options)==null?void 0:w.react};let E=l||v.ns||((P=g.options)==null?void 0:P.defaultNS);E=S(E)?[E]:E||["translation"];const c=K(e,i,g,s),h=p||c||i.transEmptyNodeValue||s,{hashTransKey:O}=i,d=s||(O?O(c||h):c||h);(_=(V=g.options)==null?void 0:V.interpolation)!=null&&_.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const a=f||t!==void 0&&!(($=(F=g.options)==null?void 0:F.interpolation)!=null&&$.alwaysFormat)||!e?r.interpolation:{interpolation:{...r.interpolation,prefix:"#$?",suffix:"?$#"}},k={...r,context:o||r.context,count:t,...f,...a,defaultValue:h,ns:E},b=d?v(d,k):h,I=me(T,b,g,s),C=pe(I||e,b,g,i,k,A),N=n??i.defaultTransParent;return N?u.createElement(N,x,C):C}const we={type:"3rdParty",init(e){ce(e.options.react),le(e)}},W=u.createContext();class he{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function $e({children:e,count:t,parent:n,i18nKey:s,context:o,tOptions:r={},values:f,defaults:p,components:T,ns:l,i18n:m,t:y,shouldUnescape:A,...x}){var c;const{i18n:g,defaultNS:v}=u.useContext(W)||{},i=m||g||U(),E=y||(i==null?void 0:i.t.bind(i));return ye({children:e,count:t,parent:n,i18nKey:s,context:o,tOptions:r,values:f,defaults:p,components:T,ns:l||(E==null?void 0:E.ns)||v||((c=i==null?void 0:i.options)==null?void 0:c.defaultNS),i18n:i,t:y,shouldUnescape:A,...x})}const Ne=(e,t)=>{const n=u.useRef();return u.useEffect(()=>{n.current=e},[e,t]),n.current},Z=(e,t,n,s)=>e.getFixedT(t,n,s),Ee=(e,t,n,s)=>u.useCallback(Z(e,t,n,s),[e,t,n,s]),Te=(e,t={})=>{var O,d,a,k;const{i18n:n}=t,{i18n:s,defaultNS:o}=u.useContext(W)||{},r=n||s||U();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new he),!r){R(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const b=(C,N)=>S(N)?N:j(N)&&S(N.defaultValue)?N.defaultValue:Array.isArray(C)?C[C.length-1]:C,I=[b,{},!1];return I.t=b,I.i18n={},I.ready=!1,I}(O=r.options.react)!=null&&O.wait&&R(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...q(),...r.options.react,...t},{useSuspense:p,keyPrefix:T}=f;let l=e||o||((d=r.options)==null?void 0:d.defaultNS);l=S(l)?[l]:l||["translation"],(k=(a=r.reportNamespaces).addUsedNamespaces)==null||k.call(a,l);const m=(r.isInitialized||r.initializedStoreOnce)&&l.every(b=>ne(b,r,f)),y=Ee(r,t.lng||null,f.nsMode==="fallback"?l:l[0],T),A=()=>y,x=()=>Z(r,t.lng||null,f.nsMode==="fallback"?l:l[0],T),[g,v]=u.useState(A);let i=l.join();t.lng&&(i=`${t.lng}${i}`);const E=Ne(i),c=u.useRef(!0);u.useEffect(()=>{const{bindI18n:b,bindI18nStore:I}=f;c.current=!0,!m&&!p&&(t.lng?J(r,t.lng,l,()=>{c.current&&v(x)}):M(r,l,()=>{c.current&&v(x)})),m&&E&&E!==i&&c.current&&v(x);const C=()=>{c.current&&v(x)};return b&&(r==null||r.on(b,C)),I&&(r==null||r.store.on(I,C)),()=>{c.current=!1,r&&(b==null||b.split(" ").forEach(N=>r.off(N,C))),I&&r&&I.split(" ").forEach(N=>r.store.off(N,C))}},[r,i]),u.useEffect(()=>{c.current&&m&&v(A)},[r,T,m]);const h=[g,r,m];if(h.t=g,h.i18n=r,h.ready=m,m||!m&&!p)return h;throw new Promise(b=>{t.lng?J(r,t.lng,l,()=>b()):M(r,l,()=>b())})},Ae=(e,t={})=>function(s){function o({forwardedRef:f,...p}){const[T,l,m]=Te(e,{...p,keyPrefix:t.keyPrefix}),y={...p,t:T,i18n:l,tReady:m};return t.withRef&&f?y.ref=f:!t.withRef&&f&&(y.forwardedRef=f),u.createElement(s,y)}o.displayName=`withI18nextTranslation(${se(s)})`,o.WrappedComponent=s;const r=(f,p)=>u.createElement(o,Object.assign({},f,{forwardedRef:p}));return t.withRef?u.forwardRef(r):o};function Ce({i18n:e,defaultNS:t,children:n}){const s=u.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return u.createElement(W.Provider,{value:s},n)}export{Ce as I,$e as T,we as i,Te as u,Ae as w};
