import{r as c}from"./react-Dx1Prv24.js";const U=(e,t,n,a)=>{var s,f,h,N;const r=[n,{code:t,...a||{}}];if((f=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&f.forward)return e.services.logger.forward(r,"warn","react-i18next::",!0);m(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(N=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&N.warn?e.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},F={},T=(e,t,n,a)=>{m(n)&&F[n]||(m(n)&&(F[n]=new Date),U(e,t,n,a))},A=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},b=(e,t,n)=>{e.loadNamespaces(t,A(e,n))},L=(e,t,n,a)=>{if(m(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return b(e,n,a);n.forEach(r=>{e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(t,A(e,a))},_=(e,t,n={})=>!t.languages||!t.languages.length?(T(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,r)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!r(a.isLanguageChangingTo,e))return!1}}),m=e=>typeof e=="string",G=e=>typeof e=="object"&&e!==null,$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,q={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},B=e=>q[e],W=e=>e.replace($,B);let I={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:W};const D=(e={})=>{I={...I,...e}},J=()=>I;let M;const K=e=>{M=e},X=()=>M,ee={type:"3rdParty",init(e){D(e.options.react),K(e)}},j=c.createContext();class Y{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Q=(e,t)=>{const n=c.useRef();return c.useEffect(()=>{n.current=e},[e,t]),n.current},k=(e,t,n,a)=>e.getFixedT(t,n,a),Z=(e,t,n,a)=>c.useCallback(k(e,t,n,a),[e,t,n,a]),te=(e,t={})=>{var O,R,P,z;const{i18n:n}=t,{i18n:a,defaultNS:r}=c.useContext(j)||{},s=n||a||X();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Y),!s){T(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=(l,d)=>m(d)?d:G(d)&&m(d.defaultValue)?d.defaultValue:Array.isArray(l)?l[l.length-1]:l,u=[i,{},!1];return u.t=i,u.i18n={},u.ready=!1,u}(O=s.options.react)!=null&&O.wait&&T(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...J(),...s.options.react,...t},{useSuspense:h,keyPrefix:N}=f;let o=r||((R=s.options)==null?void 0:R.defaultNS);o=m(o)?[o]:o||["translation"],(z=(P=s.reportNamespaces).addUsedNamespaces)==null||z.call(P,o);const g=(s.isInitialized||s.initializedStoreOnce)&&o.every(i=>_(i,s,f)),H=Z(s,t.lng||null,f.nsMode==="fallback"?o:o[0],N),S=()=>H,E=()=>k(s,t.lng||null,f.nsMode==="fallback"?o:o[0],N),[C,y]=c.useState(S);let w=o.join();t.lng&&(w=`${t.lng}${w}`);const v=Q(w),p=c.useRef(!0);c.useEffect(()=>{const{bindI18n:i,bindI18nStore:u}=f;p.current=!0,!g&&!h&&(t.lng?L(s,t.lng,o,()=>{p.current&&y(E)}):b(s,o,()=>{p.current&&y(E)})),g&&v&&v!==w&&p.current&&y(E);const l=()=>{p.current&&y(E)};return i&&(s==null||s.on(i,l)),u&&(s==null||s.store.on(u,l)),()=>{p.current=!1,s&&(i==null||i.split(" ").forEach(d=>s.off(d,l))),u&&s&&u.split(" ").forEach(d=>s.store.off(d,l))}},[s,w]),c.useEffect(()=>{p.current&&g&&y(S)},[s,N,g]);const x=[C,s,g];if(x.t=C,x.i18n=s,x.ready=g,g||!g&&!h)return x;throw new Promise(i=>{t.lng?L(s,t.lng,o,()=>i()):b(s,o,()=>i())})};function se({i18n:e,defaultNS:t,children:n}){const a=c.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return c.createElement(j.Provider,{value:a},n)}export{se as I,ee as i,te as u};
